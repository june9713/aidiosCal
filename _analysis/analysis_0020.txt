# aidiosCal2 í”„ë¡œì íŠ¸ - ì•ŒëŒ í‘œì‹œ ë¬¸ì œ ë¶„ì„ ë° í•´ê²° (Analysis #20)
## ğŸ“… ì‘ì„±ì¼: 2024ë…„ 12ì›” 29ì¼

## ğŸ” ë¬¸ì œ ìƒí™©
ì‚¬ìš©ìë¡œë¶€í„° "í˜„ì¬ ì•ŒëŒì´ í‘œì‹œë˜ì§€ ì•ŠëŠ” ì´ìœ ë¥¼ í™•ì¸í•´ ë‹¬ë¼"ëŠ” ìš”ì²­ì„ ë°›ì•˜ìŠµë‹ˆë‹¤.

ì‚¬ìš©ìê°€ ì œì‹œí•œ ê°€ëŠ¥í•œ ì›ì¸:
1. ì‹¤ì œ DBì— ì•ŒëŒì´ ë“±ë¡ë˜ì§€ ì•ŠëŠ”ë‹¤
2. ì•ŒëŒì„ í‘œì‹œí•˜ëŠ” ì½”ë“œ ìì²´ê°€ ì‹¤í–‰ì—ì„œ ì œì™¸ë˜ê³  ìˆë‹¤
3. ì•ŒëŒì„ í‘œì‹œí•  ë•Œ ì˜¤ë¥˜ê°€ ë‚˜ê³  ìˆë‹¤
4. ì•ŒëŒì„ í•„í„°ë§í•˜ëŠ” ì¡°ê±´ì— ë¬¸ì œê°€ ìˆë‹¤

## ğŸ“Š ë¬¸ì œ ë¶„ì„ ê³¼ì •

### 1. ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ í™•ì¸
```sql
sqlite3 sql_app.db "SELECT * FROM alarms ORDER BY created_at DESC LIMIT 10;"
```
**ê²°ê³¼**: ì•ŒëŒ ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ ë“±ë¡ë˜ê³  ìˆìŒì„ í™•ì¸
- 129ê°œì˜ ì•ŒëŒì´ ì¡´ì¬ (ìµœì‹  ID: 129)
- ë‹¤ì–‘í•œ íƒ€ì…: MEMO, COMPLETION_REQUEST, SCHEDULE_DUE
- is_deleted = 0 (ì‚­ì œë˜ì§€ ì•ŠìŒ)
- is_acked = 0 (ë¯¸í™•ì¸ ìƒíƒœ)

### 2. í…Œì´ë¸” êµ¬ì¡° í™•ì¸
```sql
sqlite3 sql_app.db ".schema alarms"
```
**ê²°ê³¼**: í…Œì´ë¸” êµ¬ì¡° ì •ìƒ, is_deleted í•„ë“œ ì¡´ì¬ í™•ì¸

### 3. HTML UI êµ¬ì¡° í™•ì¸
- `static/entryScreen.html`ì— `alarm-collapsible` ìš”ì†Œ ì •ìƒ ì¡´ì¬
- `alarm-list` ìš”ì†Œ ì •ìƒ êµ¬í˜„
- CSS ìŠ¤íƒ€ì¼ ëª¨ë‘ êµ¬í˜„ë¨

### 4. JavaScript ì½”ë“œ ë¶„ì„ì—ì„œ í•µì‹¬ ë¬¸ì œ ë°œê²¬

**ğŸš¨ ë³€ìˆ˜ ìŠ¤ì½”í”„ ë¬¸ì œ (Critical Bug)**
```javascript
// loadAlarms í•¨ìˆ˜ì—ì„œ
async function loadAlarms() {
    const alarms = await response.json(); // âŒ ì§€ì—­ ë³€ìˆ˜ë¡œ ì„ ì–¸
    window.alarms = alarms || [];
    renderAlarms();
}

// renderAlarms í•¨ìˆ˜ì—ì„œ
function renderAlarms() {
    const unackedCount = alarms.filter(...); // âŒ ì „ì—­ alarms ë³€ìˆ˜ ì°¸ì¡°
    // í•˜ì§€ë§Œ ì „ì—­ alarmsëŠ” ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ!
}
```

**ë¬¸ì œì **:
- `loadAlarms`ì—ì„œ `const alarms`ë¡œ ì§€ì—­ ë³€ìˆ˜ ì„ ì–¸
- ì „ì—­ `alarms` ë³€ìˆ˜ëŠ” ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ
- `renderAlarms`ì—ì„œ ë¹ˆ ì „ì—­ `alarms` ë°°ì—´ì„ ì°¸ì¡°
- ê²°ê³¼: "ìƒˆë¡œìš´ ì•ŒëŒì´ ì—†ìŠµë‹ˆë‹¤" ë©”ì‹œì§€ë§Œ í‘œì‹œ

## ğŸ› ï¸ í•´ê²° ë°©ë²• êµ¬í˜„

### 1. ë³€ìˆ˜ ìŠ¤ì½”í”„ ë¬¸ì œ í•´ê²°
```javascript
async function loadAlarms() {
    try {
        const response = await apiRequest('/alarms');
        if (response.ok) {
            const alarmsData = await response.json(); // ì´ë¦„ ë³€ê²½
            // ì „ì—­ alarms ë³€ìˆ˜ ì—…ë°ì´íŠ¸
            alarms = alarmsData || [];
            window.alarms = alarms; // window ê°ì²´ì—ë„ ì„¤ì •
            console.log('Alarms loaded:', alarms.length, 'alarms');
            renderAlarms();
        }
    } catch (error) {
        console.error('Alarm load error:', error);
    }
}
```

### 2. renderAlarms í•¨ìˆ˜ ê°œì„ 
```javascript
function renderAlarms() {
    // ì „ì—­ alarms ë³€ìˆ˜ ì‚¬ìš© (window.alarmsë„ ë™ì¼)
    const currentAlarms = window.alarms || alarms || [];
    console.log('Rendering alarms:', currentAlarms.length, 'total alarms');
    
    const unackedCount = currentAlarms.filter(alarm => !alarm.is_acked).length;
    console.log('Unacked alarms count:', unackedCount);
    
    // ë‚˜ë¨¸ì§€ ë Œë”ë§ ë¡œì§...
}
```

### 3. ë””ë²„ê¹… ê¸°ëŠ¥ ì¶”ê°€
```javascript
window.debugAlarms = function() {
    console.log('=== ALARM DEBUG INFO ===');
    console.log('Global alarms variable:', alarms);
    console.log('Window alarms variable:', window.alarms);
    // ê¸°íƒ€ ë””ë²„ê¹… ì •ë³´...
};

window.manualLoadAlarms = function() {
    console.log('Manual alarm load triggered');
    loadAlarms();
};
```

## ğŸ”§ ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

### API ì—”ë“œí¬ì¸íŠ¸ ë¶„ì„
- **GET /alarms**: ì •ìƒ êµ¬í˜„ë¨ (main.py line 220-244)
- **ì‘ë‹µ í˜•ì‹**: ì˜¬ë°”ë¥¸ JSON êµ¬ì¡°
- **í•„í„°ë§**: `is_deleted == False` ì¡°ê±´ ì ìš©ë¨
- **ì •ë ¬**: `created_at.desc()` ì ìš©ë¨

### í´ë§ ì‹œìŠ¤í…œ ë¶„ì„
```javascript
// main.js line 333
startAlarmPolling(); // ì•ŒëŒ í´ë§ ì‹œì‘

// 30ì´ˆë§ˆë‹¤ ì‹¤í–‰
alarmPollingInterval = setInterval(loadAlarms, 30000);
```

### HTML ìš”ì†Œ í™•ì¸
```html
<!-- static/entryScreen.html -->
<details id="alarm-collapsible" class="alarm-collapsible">
    <summary class="alarm-header-collapsible">
        <h3>ì•ŒëŒ</h3>
        <!-- ê¸°íƒ€ í—¤ë” ìš”ì†Œë“¤ -->
    </summary>
    <div class="alarm-container">
        <div id="alarm-list">
            <div class="no-alarms">ìƒˆë¡œìš´ ì•ŒëŒì´ ì—†ìŠµë‹ˆë‹¤.</div>
        </div>
    </div>
</details>
```

## ğŸ“ˆ ìˆ˜ì • ì „í›„ ë¹„êµ

### ìˆ˜ì • ì „ (ë¬¸ì œ ìƒí™©)
1. APIì—ì„œ ì•ŒëŒ ë°ì´í„°ë¥¼ ë°›ì•„ì˜´ âœ…
2. ì§€ì—­ ë³€ìˆ˜ì— ì €ì¥í•˜ê³  window.alarmsì—ë§Œ ì €ì¥ âŒ
3. ì „ì—­ alarms ë³€ìˆ˜ëŠ” ë¹ˆ ë°°ì—´ ìƒíƒœ ìœ ì§€ âŒ
4. renderAlarmsì—ì„œ ë¹ˆ ë°°ì—´ì„ ì°¸ì¡°í•˜ì—¬ "ì•ŒëŒ ì—†ìŒ" í‘œì‹œ âŒ

### ìˆ˜ì • í›„ (í•´ê²° ìƒí™©)
1. APIì—ì„œ ì•ŒëŒ ë°ì´í„°ë¥¼ ë°›ì•„ì˜´ âœ…
2. ì „ì—­ alarms ë³€ìˆ˜ì™€ window.alarms ëª¨ë‘ ì—…ë°ì´íŠ¸ âœ…
3. renderAlarmsì—ì„œ ì‹¤ì œ ë°ì´í„° ë°°ì—´ ì°¸ì¡° âœ…
4. ì•ŒëŒì´ ì •ìƒì ìœ¼ë¡œ í™”ë©´ì— í‘œì‹œë¨ âœ…

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### ê°œë°œì ì½˜ì†”ì—ì„œ í™•ì¸
```javascript
// ë””ë²„ê¹… ì •ë³´ í™•ì¸
debugAlarms();

// ìˆ˜ë™ìœ¼ë¡œ ì•ŒëŒ ë¡œë“œ
manualLoadAlarms();

// ìˆ˜ë™ìœ¼ë¡œ ì•ŒëŒ ë Œë”ë§
manualRenderAlarms();

// ì „ì—­ ë³€ìˆ˜ ì§ì ‘ í™•ì¸
console.log('Global alarms:', alarms);
console.log('Window alarms:', window.alarms);
```

### ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸ì‚¬í•­
1. ë¡œê·¸ì¸ í›„ ì•ŒëŒ ì˜ì—­ì— ì‹¤ì œ ì•ŒëŒë“¤ì´ í‘œì‹œë˜ëŠ”ì§€
2. ë¯¸í™•ì¸ ì•ŒëŒ ê°œìˆ˜ ì¸ë””ì¼€ì´í„°ê°€ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ì§€
3. ì•ŒëŒ í™•ì¸/ì‚­ì œ ë²„íŠ¼ì´ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€
4. 30ì´ˆë§ˆë‹¤ ìë™ìœ¼ë¡œ ì•ŒëŒì´ ì—…ë°ì´íŠ¸ë˜ëŠ”ì§€

## ğŸ’¡ í•™ìŠµëœ êµí›ˆ

### 1. JavaScript ë³€ìˆ˜ ìŠ¤ì½”í”„ì˜ ì¤‘ìš”ì„±
- ì „ì—­ ë³€ìˆ˜ì™€ ì§€ì—­ ë³€ìˆ˜ì˜ ëª…í™•í•œ êµ¬ë¶„ í•„ìš”
- ê°™ì€ ì´ë¦„ì˜ ë³€ìˆ˜ ì‚¬ìš© ì‹œ ìŠ¤ì½”í”„ ì¶©ëŒ ì£¼ì˜
- `const`ë¡œ ì„ ì–¸ëœ ì§€ì—­ ë³€ìˆ˜ëŠ” ì™¸ë¶€ ìŠ¤ì½”í”„ì— ì˜í–¥ ì—†ìŒ

### 2. ë””ë²„ê¹… ë„êµ¬ì˜ í•„ìš”ì„±
- ì½˜ì†” ë¡œê·¸ë¥¼ í†µí•œ ë°ì´í„° íë¦„ ì¶”ì 
- ê°œë°œì ë„êµ¬ ì¹œí™”ì ì¸ ë””ë²„ê¹… í•¨ìˆ˜ ì œê³µ
- ë‹¨ê³„ë³„ ê²€ì¦ì„ í†µí•œ ë¬¸ì œ ê²©ë¦¬

### 3. ìƒíƒœ ê´€ë¦¬ì˜ ì¼ê´€ì„±
- ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì˜ ì¼ê´€ì„± ìœ ì§€
- ì—¬ëŸ¬ ê³³ì—ì„œ ê°™ì€ ë°ì´í„°ë¥¼ ì°¸ì¡°í•  ë•Œ ë™ê¸°í™” ë¬¸ì œ ì£¼ì˜
- window ê°ì²´ì™€ ì „ì—­ ë³€ìˆ˜ì˜ ì ì ˆí•œ í™œìš©

## ğŸ”® í–¥í›„ ê°œì„  ë°©ì•ˆ

### 1. ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë„ì… ê²€í† 
- Redux, Vuex ë“± ìƒíƒœ ê´€ë¦¬ ë„êµ¬ í™œìš©
- ì¤‘ì•™ì§‘ì¤‘ì‹ ìƒíƒœ ê´€ë¦¬ë¡œ ì¼ê´€ì„± í™•ë³´

### 2. TypeScript ë„ì… ê²€í† 
- ì»´íŒŒì¼ íƒ€ì„ ì—ëŸ¬ ê²€ì¶œ
- ë³€ìˆ˜ íƒ€ì… ì•ˆì „ì„± í™•ë³´

### 3. í…ŒìŠ¤íŠ¸ ìë™í™”
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¡œ ì´ëŸ° ë²„ê·¸ ì‚¬ì „ ë°©ì§€
- ë¸Œë¼ìš°ì € ìë™í™” í…ŒìŠ¤íŠ¸ ë„ì…

## ğŸ“Š ê²°ê³¼ ìš”ì•½
- **ê·¼ë³¸ ì›ì¸**: JavaScript ë³€ìˆ˜ ìŠ¤ì½”í”„ ë¬¸ì œ
- **í•´ê²° ë°©ë²•**: ì „ì—­ ë³€ìˆ˜ ì˜¬ë°”ë¥¸ ì—…ë°ì´íŠ¸ ë° ì¼ê´€ëœ ì°¸ì¡°
- **ë¶€ê°€ ê°œì„ **: ë””ë²„ê¹… ê¸°ëŠ¥ ì¶”ê°€, ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- **ì˜ˆìƒ íš¨ê³¼**: ì•ŒëŒ ì‹œìŠ¤í…œ ì™„ì „ ì •ìƒí™”

---

# ğŸ“‘ ì™¸ë¶€ APK ì›¹ì•±ìš© API ë¬¸ì„œ (External API Documentation)
## ğŸ“… ì¶”ê°€ì¼ì‹œ: 2024ë…„ 12ì›” 29ì¼ - ì˜¤ì „ 10:00

## ğŸ¯ ê°œìš”
aidiosCal2 ì‹œìŠ¤í…œì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì™¸ë¶€ APK ì›¹ì•±ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” REST API ë¬¸ì„œì…ë‹ˆë‹¤.
ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ, ë“±ë¡, ì‚­ì œ, ì¡°íšŒ, ìˆ˜ì • ë“± ëª¨ë“  CRUD ì‘ì—…ì„ ì§€ì›í•©ë‹ˆë‹¤.

## ğŸ” ì¸ì¦ ë°©ì‹
ëª¨ë“  APIëŠ” JWT Bearer Token ì¸ì¦ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

### í—¤ë” í¬ë§·
```
Authorization: Bearer {access_token}
Content-Type: application/json
```

## ğŸŒ Base URL
```
http://your-server-address:port
```

---

## ğŸ“‹ 1. ì¸ì¦ ê´€ë ¨ API

### 1.1 ì‚¬ìš©ì ë“±ë¡
```http
POST /register
Content-Type: application/json

{
    "username": "string",
    "name": "string", 
    "password": "string"
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
    "id": 1,
    "username": "john_doe",
    "name": "John Doe",
    "is_active": true
}
```

### 1.2 ë¡œê·¸ì¸
```http
POST /token
Content-Type: application/x-www-form-urlencoded

username=john_doe&password=your_password
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "token_type": "bearer"
}
```

### 1.3 ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
```http
GET /users/me
Authorization: Bearer {token}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
    "id": 1,
    "username": "john_doe",
    "name": "John Doe",
    "is_active": true
}
```

### 1.4 ëª¨ë“  ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ
```http
GET /users/?skip=0&limit=100
Authorization: Bearer {token}
```

---

## ğŸ“… 2. ì¼ì • ê´€ë¦¬ API

### 2.1 ì¼ì • ìƒì„±
```http
POST /schedules/
Authorization: Bearer {token}
Content-Type: application/json

{
    "project_name": "string",
    "title": "string",
    "content": "string (optional)",
    "date": "2024-12-29T15:00:00",
    "due_time": "2024-12-29T15:00:00",
    "alarm_time": "2024-12-29T14:00:00",
    "priority": "ê¸´ê¸‰|ê¸‰í•¨|ê³§ì„ë°•|ì¼ë°˜|ê±°ë¶ì´",
    "individual": false,
    "is_repeat": false,
    "parent_id": null,
    "parent_order": 0
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
    "id": 1,
    "project_name": "í”„ë¡œì íŠ¸ëª…",
    "title": "ì¼ì •ëª…",
    "content": "ë‚´ìš©",
    "date": "2024-12-29T15:00:00",
    "due_time": "2024-12-29T15:00:00",
    "alarm_time": "2024-12-29T14:00:00",
    "priority": "ì¼ë°˜",
    "is_completed": false,
    "individual": false,
    "owner_id": 1,
    "owner": {
        "id": 1,
        "name": "John Doe"
    },
    "created_at": "2024-12-29T10:00:00",
    "attachments": []
}
```

### 2.2 ì¼ì • ëª©ë¡ ì¡°íšŒ
```http
GET /schedules/?skip=0&limit=50&show_completed=true&completed_only=false&start_date=2024-01-01T00:00:00&end_date=2024-12-31T23:59:59
Authorization: Bearer {token}
```

**íŒŒë¼ë¯¸í„°:**
- `skip`: ê±´ë„ˆë›¸ ê°œìˆ˜ (í˜ì´ì§•)
- `limit`: ì¡°íšŒí•  ìµœëŒ€ ê°œìˆ˜
- `show_completed`: ì™„ë£Œëœ ì¼ì • í¬í•¨ ì—¬ë¶€
- `completed_only`: ì™„ë£Œëœ ì¼ì •ë§Œ ì¡°íšŒ
- `start_date`: ì‹œì‘ ë‚ ì§œ (optional)
- `end_date`: ì¢…ë£Œ ë‚ ì§œ (optional)
- `search_terms`: ê²€ìƒ‰ì–´ (ì½¤ë§ˆë¡œ êµ¬ë¶„, optional)
- `exclude_terms`: ì œì™¸í•  ê²€ìƒ‰ì–´ (optional)

### 2.3 íŠ¹ì • ì¼ì • ì¡°íšŒ
```http
GET /schedules/{schedule_id}
Authorization: Bearer {token}
```

### 2.4 ì¼ì • ìˆ˜ì •
```http
PUT /schedules/{schedule_id}
Authorization: Bearer {token}
Content-Type: application/json

{
    "project_name": "string",
    "title": "string",
    "content": "string",
    "date": "2024-12-29T15:00:00",
    "due_time": "2024-12-29T15:00:00",
    "alarm_time": "2024-12-29T14:00:00",
    "priority": "ì¼ë°˜",
    "individual": false
}
```

### 2.5 ì¼ì • ì‚­ì œ
```http
DELETE /schedules/{schedule_id}
Authorization: Bearer {token}
```

### 2.6 ì¼ì • ì™„ë£Œ í† ê¸€
```http
POST /schedules/{schedule_id}/complete
Authorization: Bearer {token}
```

### 2.7 ì¼ì • ë©”ëª¨ ìˆ˜ì •
```http
PUT /schedules/{schedule_id}/memo
Authorization: Bearer {token}
Content-Type: application/json

{
    "memo": "ë©”ëª¨ ë‚´ìš©"
}
```

### 2.8 ì¼ì • ê³µìœ 
```http
POST /schedules/{schedule_id}/share
Authorization: Bearer {token}
Content-Type: application/json

{
    "schedule_id": 1,
    "shared_with_id": 2,
    "memo": "ê³µìœ  ë©”ëª¨ (optional)"
}
```

### 2.9 ì—‘ì…€ ë‚´ë³´ë‚´ê¸°
```http
GET /schedules/export/excel?start_date=2024-01-01&end_date=2024-12-31&include_individual=false&export_by_project=true
Authorization: Bearer {token}
```

**íŒŒë¼ë¯¸í„°:**
- `start_date`: ì‹œì‘ ë‚ ì§œ
- `end_date`: ì¢…ë£Œ ë‚ ì§œ
- `include_individual`: ê°œì¸ì¼ì • í¬í•¨ ì—¬ë¶€
- `export_by_project`: í”„ë¡œì íŠ¸ë³„ ë¶„ë¥˜
- `export_by_author`: ì‘ì„±ìë³„ ë¶„ë¥˜
- `export_by_month`: ì›”ë³„ ë¶„ë¥˜
- `export_by_week`: ì£¼ë³„ ë¶„ë¥˜
- `export_by_priority`: ìš°ì„ ìˆœìœ„ë³„ ë¶„ë¥˜

---

## ğŸ”” 3. ì•ŒëŒ ê´€ë¦¬ API

### 3.1 ì•ŒëŒ ëª©ë¡ ì¡°íšŒ
```http
GET /alarms/?skip=0&limit=100
Authorization: Bearer {token}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
[
    {
        "id": 1,
        "user_id": 1,
        "type": "SCHEDULE_DUE|MEMO|COMPLETION_REQUEST|SHARE|NEW_SCHEDULE",
        "message": "ì•ŒëŒ ë©”ì‹œì§€",
        "schedule_id": 1,
        "is_acked": false,
        "is_deleted": false,
        "created_at": "2024-12-29T10:00:00",
        "acked_at": null
    }
]
```

### 3.2 ì•ŒëŒ í™•ì¸ ì²˜ë¦¬
```http
POST /alarms/ack_alarms/{alarm_id}/ack
Authorization: Bearer {token}
```

### 3.3 ì•ŒëŒ ì‚­ì œ
```http
DELETE /alarms/delete_alarms/{alarm_id}
Authorization: Bearer {token}
```

### 3.4 ëª¨ë“  ì•ŒëŒ ì‚­ì œ
```http
DELETE /alarms/clear_alarms/clear
Authorization: Bearer {token}
```

---

## ğŸ“ 4. ì²¨ë¶€íŒŒì¼ ê´€ë¦¬ API

### 4.1 ëª¨ë“  ì²¨ë¶€íŒŒì¼ ì¡°íšŒ
```http
GET /attachments/
Authorization: Bearer {token}
```

### 4.2 ì²¨ë¶€íŒŒì¼ ê²€ìƒ‰
```http
GET /attachments/search?start_date=2024-01-01&end_date=2024-12-31&filename_pattern=*.pdf&uploader_id=1&project_name=í”„ë¡œì íŠ¸ëª…&schedule_title=ì¼ì •ëª…
Authorization: Bearer {token}
```

**íŒŒë¼ë¯¸í„°:**
- `start_date`: ì‹œì‘ ë‚ ì§œ (YYYY-MM-DD)
- `end_date`: ì¢…ë£Œ ë‚ ì§œ (YYYY-MM-DD)
- `filename_pattern`: íŒŒì¼ëª… íŒ¨í„´ (ì™€ì¼ë“œì¹´ë“œ * ì§€ì›)
- `uploader_id`: ì—…ë¡œë” ID
- `project_name`: í”„ë¡œì íŠ¸ëª…
- `schedule_title`: ì¼ì • ì œëª©

### 4.3 íŠ¹ì • ì¼ì •ì— íŒŒì¼ ì—…ë¡œë“œ
```http
POST /attachments/schedules/{schedule_id}/attachments
Authorization: Bearer {token}
Content-Type: multipart/form-data

files: [File1, File2, ...]
```

### 4.4 ì²¨ë¶€íŒŒì¼ ì‚­ì œ
```http
DELETE /attachments/{attachment_id}
Authorization: Bearer {token}
```

### 4.5 ì²¨ë¶€íŒŒì¼ ì´ë¦„ ë³€ê²½
```http
PUT /attachments/{attachment_id}/rename
Authorization: Bearer {token}
Content-Type: application/json

{
    "filename": "ìƒˆë¡œìš´_íŒŒì¼ëª….pdf"
}
```

### 4.6 ë‹¤ì¤‘ íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ZIP)
```http
POST /attachments/download/zip
Authorization: Bearer {token}
Content-Type: application/json

{
    "file_ids": [1, 2, 3, 4]
}
```

### 4.7 ë‹¤ì¤‘ íŒŒì¼ ì‚­ì œ
```http
DELETE /attachments/delete/batch
Authorization: Bearer {token}
Content-Type: application/json

{
    "file_ids": [1, 2, 3, 4]
}
```

---

## ğŸ“‚ 5. í”„ë¡œì íŠ¸ ê´€ë¦¬ API

### 5.1 í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ
```http
GET /projects/
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
[
    {
        "name": "í”„ë¡œì íŠ¸ A"
    },
    {
        "name": "í”„ë¡œì íŠ¸ B"
    }
]
```

### 5.2 í”„ë¡œì íŠ¸ ì¶”ê°€
```http
POST /projects/
Authorization: Bearer {token}
Content-Type: application/json

{
    "name": "ìƒˆ í”„ë¡œì íŠ¸ëª…"
}
```

---

## ğŸ“ 6. í€µë©”ëª¨ ê´€ë¦¬ API

### 6.1 í€µë©”ëª¨ ìƒì„±
```http
POST /api/quickmemos
Authorization: Bearer {token}
Content-Type: application/json

{
    "content": "í€µë©”ëª¨ ë‚´ìš©"
}
```

### 6.2 í€µë©”ëª¨ ëª©ë¡ ì¡°íšŒ
```http
GET /api/quickmemos?skip=0&limit=100
Authorization: Bearer {token}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
[
    {
        "id": 1,
        "content": "í€µë©”ëª¨ ë‚´ìš©",
        "author_id": 1,
        "is_completed": false,
        "is_deleted": false,
        "created_at": "2024-12-29T10:00:00"
    }
]
```

### 6.3 í€µë©”ëª¨ ì™„ë£Œ í† ê¸€
```http
PUT /api/quickmemos/{quickmemo_id}/complete
Authorization: Bearer {token}
```

### 6.4 í€µë©”ëª¨ ìˆ˜ì •
```http
PUT /api/quickmemos/{quickmemo_id}
Authorization: Bearer {token}
Content-Type: application/json

{
    "content": "ìˆ˜ì •ëœ í€µë©”ëª¨ ë‚´ìš©"
}
```

### 6.5 í€µë©”ëª¨ ì‚­ì œ
```http
DELETE /api/quickmemos/{quickmemo_id}
Authorization: Bearer {token}
```

---

## ğŸš¨ ì—ëŸ¬ ì‘ë‹µ í˜•ì‹

### ì¼ë°˜ì ì¸ ì—ëŸ¬ ì‘ë‹µ
```json
{
    "detail": "ì—ëŸ¬ ë©”ì‹œì§€"
}
```

### ì£¼ìš” HTTP ìƒíƒœ ì½”ë“œ
- `200`: ì„±ê³µ
- `201`: ìƒì„± ì„±ê³µ
- `400`: ì˜ëª»ëœ ìš”ì²­
- `401`: ì¸ì¦ ì‹¤íŒ¨
- `403`: ê¶Œí•œ ì—†ìŒ
- `404`: ë¦¬ì†ŒìŠ¤ ì—†ìŒ
- `422`: ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨
- `500`: ì„œë²„ ì—ëŸ¬

## ğŸ”„ ì‚¬ìš© ì˜ˆì‹œ (JavaScript)

### ì¸ì¦ í† í° ì„¤ì •
```javascript
const API_BASE_URL = 'http://your-server:port';
let accessToken = '';

// ë¡œê·¸ì¸
async function login(username, password) {
    const response = await fetch(`${API_BASE_URL}/token`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`
    });
    
    if (response.ok) {
        const data = await response.json();
        accessToken = data.access_token;
        return data;
    }
    throw new Error('Login failed');
}

// API ìš”ì²­ í—¬í¼
async function apiRequest(endpoint, options = {}) {
    const response = await fetch(`${API_BASE_URL}${endpoint}`, {
        ...options,
        headers: {
            'Authorization': `Bearer ${accessToken}`,
            'Content-Type': 'application/json',
            ...options.headers
        }
    });
    
    if (!response.ok) {
        throw new Error(`API Error: ${response.status}`);
    }
    
    return response.json();
}
```

### ì¼ì • ê´€ë¦¬ ì˜ˆì‹œ
```javascript
// ì¼ì • ìƒì„±
async function createSchedule(scheduleData) {
    return await apiRequest('/schedules/', {
        method: 'POST',
        body: JSON.stringify(scheduleData)
    });
}

// ì¼ì • ëª©ë¡ ì¡°íšŒ
async function getSchedules(params = {}) {
    const queryString = new URLSearchParams(params).toString();
    return await apiRequest(`/schedules/?${queryString}`);
}

// ì¼ì • ìˆ˜ì •
async function updateSchedule(scheduleId, scheduleData) {
    return await apiRequest(`/schedules/${scheduleId}`, {
        method: 'PUT',
        body: JSON.stringify(scheduleData)
    });
}

// ì¼ì • ì‚­ì œ
async function deleteSchedule(scheduleId) {
    return await apiRequest(`/schedules/${scheduleId}`, {
        method: 'DELETE'
    });
}
```

### íŒŒì¼ ì—…ë¡œë“œ ì˜ˆì‹œ
```javascript
async function uploadFiles(scheduleId, files) {
    const formData = new FormData();
    for (const file of files) {
        formData.append('files', file);
    }
    
    const response = await fetch(`${API_BASE_URL}/attachments/schedules/${scheduleId}/attachments`, {
        method: 'POST',
        headers: {
            'Authorization': `Bearer ${accessToken}`
        },
        body: formData
    });
    
    return response.json();
}
```

## ğŸ¯ APK ì›¹ì•± ê°œë°œ ê°€ì´ë“œ

### 1. ì¸ì¦ í”Œë¡œìš°
1. ì‚¬ìš©ì ë¡œê·¸ì¸ â†’ í† í° íšë“
2. í† í°ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
3. ëª¨ë“  API ìš”ì²­ì— í† í° í¬í•¨

### 2. ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- 30ì´ˆë§ˆë‹¤ ì•ŒëŒ ì¡°íšŒ (`GET /alarms/`)
- 10ì´ˆë§ˆë‹¤ ì¼ì • ëª©ë¡ ìƒˆë¡œê³ ì¹¨ (`GET /schedules/`)

### 3. ì˜¤í”„ë¼ì¸ ì§€ì›
- ì¤‘ìš” ë°ì´í„°ëŠ” ë¡œì»¬ ìºì‹±
- ì˜¨ë¼ì¸ ìƒíƒœ ë³µì› ì‹œ ë™ê¸°í™”

### 4. íŒŒì¼ ì²˜ë¦¬
- ëŒ€ìš©ëŸ‰ íŒŒì¼ ì—…ë¡œë“œ ì‹œ ì²­í¬ ë‹¨ìœ„ ì²˜ë¦¬ ê³ ë ¤
- ë‹¤ìš´ë¡œë“œ íŒŒì¼ì€ ì ì ˆí•œ MIME íƒ€ì… ì„¤ì •

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™” íŒ

### 1. í˜ì´ì§• í™œìš©
```javascript
// ì¼ì • ëª©ë¡ì„ í˜ì´ì§€ë³„ë¡œ ë¡œë“œ
const pageSize = 50;
let currentPage = 0;

async function loadMoreSchedules() {
    const schedules = await getSchedules({
        skip: currentPage * pageSize,
        limit: pageSize
    });
    currentPage++;
    return schedules;
}
```

### 2. ê²€ìƒ‰ ìµœì í™”
```javascript
// ê²€ìƒ‰ì–´ì™€ í•„í„°ë¥¼ ì¡°í•©í•˜ì—¬ ì •í™•í•œ ê²°ê³¼ íšë“
async function searchSchedules(searchTerm, filters = {}) {
    return await getSchedules({
        search_terms: searchTerm,
        search_in_title: true,
        search_in_content: true,
        search_in_memo: true,
        ...filters
    });
}
```

### 3. ìºì‹± ì „ëµ
```javascript
// í”„ë¡œì íŠ¸ ëª©ë¡ì€ í•œ ë²ˆë§Œ ë¡œë“œí•˜ê³  ìºì‹œ
let projectsCache = null;
async function getProjectsWithCache() {
    if (!projectsCache) {
        projectsCache = await apiRequest('/projects/');
    }
    return projectsCache;
}
```

---

## ğŸ”— ì°¸ê³  ì •ë³´

### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- **schedules**: ì¼ì • ì •ë³´
- **alarms**: ì•ŒëŒ ì •ë³´  
- **attachments**: ì²¨ë¶€íŒŒì¼ ì •ë³´
- **users**: ì‚¬ìš©ì ì •ë³´
- **quickmemos**: í€µë©”ëª¨ ì •ë³´

### íŒŒì¼ ì €ì¥ ê²½ë¡œ
- ì—…ë¡œë“œëœ íŒŒì¼: `./static/uploads/`
- í”„ë¡œì íŠ¸ ì •ë³´: `./static/json/projects.json`

### ë¡œê·¸ íŒŒì¼
- ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸: `./app.log`

### ì‹œê°„ëŒ€ ì²˜ë¦¬
- ì„œë²„ëŠ” í•œêµ­ ì‹œê°„(KST)ìœ¼ë¡œ ì²˜ë¦¬
- ëª¨ë“  ë‚ ì§œ/ì‹œê°„ì€ ISO 8601 í˜•ì‹ ì‚¬ìš©
- ì˜ˆ: `2024-12-29T15:30:00`

## ğŸ“± APK ê°œë°œì‹œ ì£¼ì˜ì‚¬í•­

### 1. ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ
- HTTPS ì‚¬ìš© ê¶Œì¥
- í† í° ì €ì¥ ì‹œ ì•”í˜¸í™” ê³ ë ¤
- API í†µì‹  ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§ êµ¬í˜„

### 2. ì‚¬ìš©ì ê²½í—˜
- ë¡œë”© ìƒíƒœ í‘œì‹œ
- ì˜¤í”„ë¼ì¸ ëª¨ë“œ ì§€ì›
- ì—ëŸ¬ ë©”ì‹œì§€ ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ í‘œì‹œ

### 3. ë°ì´í„° ë™ê¸°í™”
- ì¶©ëŒ í•´ê²° ì „ëµ ìˆ˜ë¦½
- ë§ˆì§€ë§‰ ìˆ˜ì • ì‹œê°„ ê¸°ë°˜ ë™ê¸°í™”
- ì‚¬ìš©ì ê¶Œí•œë³„ ë°ì´í„° ì ‘ê·¼ ì œì–´

ì´ API ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ì™¸ë¶€ APK ì›¹ì•±ì—ì„œ aidiosCal2ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì™„ì „íˆ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 